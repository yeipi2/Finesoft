<div class="form-box">
    <h3 class="title">Crear cuenta</h3>
    <p class="subtitle">Regístrate para comenzar</p>

    <EditForm Model="@Model" OnValidSubmit="@OnSubmit">
        <DataAnnotationsValidator />

        <AuthInput TValue="string" Label="Correo electrónico" Icon="bi bi-envelope" Type="email"
                   Placeholder="micorreo@empresa.mx" @bind-Value="Model.Email" ValidationFor="@(() => Model.Email)" />

        <AuthInput TValue="string" Label="Contraseña" Icon="bi bi-lock" IsPassword="true"
                   Placeholder="Mínimo 8 caracteres" @bind-Value="Model.Password" ValidationFor="@(() => Model.Password)" />

        <AuthInput TValue="string" Label="Confirmar contraseña" Icon="bi bi-lock" IsPassword="true"
                   Placeholder="Mínimo 8 caracteres" @bind-Value="Model.ConfirmPassword"
                   ValidationFor="@(() => Model.ConfirmPassword)" />

        <GlassButton Type="submit" Icon="bi bi-person-plus" Text="@(IsLoading ? "Registrando..." : "Registrarme")"
                     Disabled="@IsLoading" />
    </EditForm>

    <AuthFormFooter Question="¿Ya tienes cuenta?" ActionText="Inicia sesión" OnAction="@OnSwitchToLogin" />
</div>

@code {
    [Parameter, EditorRequired] public RegisterModel Model { get; set; } = null!;
    [Parameter, EditorRequired] public EventCallback OnSubmit { get; set; }
    [Parameter] public bool IsLoading { get; set; }
    [Parameter] public EventCallback OnSwitchToLogin { get; set; }
}