@* fs-front/Components/Clients/Form/AccordionSection.razor *@

<div class="accordion-item">
    <h2 class="accordion-header" id="@HeadingId">
        <button class="accordion-button @(IsExpanded ? "" : "collapsed") @(!IsComplete ? "text-danger" : "")"
                type="button"
                data-bs-toggle="collapse"
                data-bs-target="#@CollapseId"
                aria-expanded="@IsExpanded"
                aria-controls="@CollapseId"
                @onclick="OnToggle">
            <i class="bi @IconClass me-2"></i>
            <strong>@Title</strong>
            @if (!IsComplete)
            {
                <span class="badge bg-danger ms-2">Incompleto</span>
            }
            else
            {
                <i class="bi bi-check-circle-fill text-success ms-2"></i>
            }
            @if (IsOptional)
            {
                <span class="badge bg-secondary ms-2">Opcional</span>
            }
        </button>
    </h2>
    <div id="@CollapseId"
         class="accordion-collapse collapse @(IsExpanded ? "show" : "")"
         aria-labelledby="@HeadingId">
        <div class="accordion-body">
            @ChildContent
        </div>
    </div>
</div>

@code {
    [Parameter] public string Title { get; set; } = string.Empty;
    [Parameter] public string IconClass { get; set; } = "bi-folder";
    [Parameter] public bool IsComplete { get; set; }
    [Parameter] public bool IsOptional { get; set; }
    [Parameter] public bool IsExpanded { get; set; }
    [Parameter] public EventCallback OnToggle { get; set; }
    [Parameter] public RenderFragment? ChildContent { get; set; }

    private string HeadingId => $"heading{Title.Replace(" ", "")}";
    private string CollapseId => $"collapse{Title.Replace(" ", "")}";
}