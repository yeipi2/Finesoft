@* fs-front/Components/Clients/Form/CompanyDataSection.razor *@
@using fs_front.DTO
@using fs_front.Components.Shared

<FormSection Title="Datos de la Empresa"
             IconClass="bi-building"
             IsComplete="@IsComplete">

    <div class="row g-3">
        <div class="col-12">
            <label for="CompanyName" class="form-label small fw-bold">
                Nombre de la Empresa <span class="text-danger">*</span>
            </label>
            <InputText id="CompanyName"
                       class="form-control form-control-sm"
                       placeholder="Empresa S.A. de C.V."
                       @bind-Value="Model.CompanyName"
                       @bind-Value:after="OnValidate" />
            @if (ValidationErrors.ContainsKey("CompanyName"))
            {
                <div class="text-danger small mt-1">
                    <i class="bi bi-exclamation-circle me-1"></i>@ValidationErrors["CompanyName"]
                </div>
            }
        </div>

        <div class="col-md-6">
            <label for="ContactName" class="form-label small fw-bold">
                Nombre del Contacto <span class="text-danger">*</span>
            </label>
            <InputText id="ContactName"
                       class="form-control form-control-sm"
                       placeholder="Juan Pérez"
                       @bind-Value="Model.ContactName"
                       @bind-Value:after="OnValidate" />
            @if (ValidationErrors.ContainsKey("ContactName"))
            {
                <div class="text-danger small mt-1">
                    <i class="bi bi-exclamation-circle me-1"></i>@ValidationErrors["ContactName"]
                </div>
            }
        </div>

        @if (IsEditMode)
        {
            <div class="col-md-6">
                <label for="EmailEdit" class="form-label small fw-bold">
                    Email <span class="text-danger">*</span>
                </label>
                <InputText id="EmailEdit"
                           type="email"
                           class="form-control form-control-sm"
                           placeholder="correo@empresa.com"
                           @bind-Value="Model.Email"
                           disabled="true" />
            </div>
        }
    </div>

</FormSection>

@code {
    [Parameter] public ClientDto Model { get; set; } = new();
    [Parameter] public Dictionary<string, string> ValidationErrors { get; set; } = new();
    [Parameter] public bool IsComplete { get; set; }
    [Parameter] public bool IsEditMode { get; set; }
    [Parameter] public Action? OnValidate { get; set; }
}
