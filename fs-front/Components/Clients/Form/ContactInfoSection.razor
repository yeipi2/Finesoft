@* fs-front/Components/Clients/Form/ContactInfoSection.razor *@
@using fs_front.DTO

<AccordionSection Title="Información de Contacto"
                  IconClass="bi-telephone"
                  IsComplete="@IsComplete"
                  IsExpanded="@IsExpanded"
                  OnToggle="@OnToggle">

    <div class="row g-3">
        <div class="col-md-6">
            <label for="Phone" class="form-label small fw-bold">
                Teléfono <span class="text-danger">*</span>
            </label>
            <InputText id="Phone"
                       class="form-control form-control-sm"
                       placeholder="+52 1234567890"
                       @bind-Value="Model.Phone"
                       @bind-Value:after="OnValidate" />
            @if (ValidationErrors.ContainsKey("Phone"))
            {
                <div class="text-danger small mt-1">
                    <i class="bi bi-exclamation-circle me-1"></i>@ValidationErrors["Phone"]
                </div>
            }
        </div>

        <div class="col-md-6">
            <label for="RFC" class="form-label small fw-bold">
                RFC <span class="text-danger">*</span>
            </label>
            <InputText id="RFC"
                       class="form-control form-control-sm"
                       placeholder="ABCDEFGHIJ12"
                       @bind-Value="Model.RFC"
                       @bind-Value:after="OnValidate"
                       maxlength="13" />
            @if (ValidationErrors.ContainsKey("RFC"))
            {
                <div class="text-danger small mt-1">
                    <i class="bi bi-exclamation-circle me-1"></i>@ValidationErrors["RFC"]
                </div>
            }
        </div>

        <div class="col-12">
            <label for="Address" class="form-label small fw-bold">
                Dirección <span class="text-danger">*</span>
            </label>
            <InputText id="Address"
                       class="form-control form-control-sm"
                       placeholder="Av. Calle Azul, 123, Col. Centro"
                       @bind-Value="Model.Address"
                       @bind-Value:after="OnValidate" />
            @if (ValidationErrors.ContainsKey("Address"))
            {
                <div class="text-danger small mt-1">
                    <i class="bi bi-exclamation-circle me-1"></i>@ValidationErrors["Address"]
                </div>
            }
        </div>
    </div>

</AccordionSection>

@code {
    [Parameter] public ClientDto Model { get; set; } = new();
    [Parameter] public Dictionary<string, string> ValidationErrors { get; set; } = new();
    [Parameter] public bool IsComplete { get; set; }
    [Parameter] public bool IsExpanded { get; set; }
    [Parameter] public EventCallback OnToggle { get; set; }
    [Parameter] public Action? OnValidate { get; set; }
}