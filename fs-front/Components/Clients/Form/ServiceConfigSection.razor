@* fs-front/Components/Clients/Form/ServiceConfigSection.razor *@
@using fs_front.DTO
@using fs_front.Components.Shared

<FormSection Title="Configuración de Servicio"
             IconClass="bi-gear"
             IsComplete="@IsComplete">

    <div class="row g-3">
        <div class="col-md-6">
            <label for="ServiceModality" class="form-label small fw-bold">
                Modalidad de Servicio <span class="text-danger">*</span>
            </label>
            <InputSelect id="ServiceModality"
                         class="form-select form-select-sm"
                         @bind-Value="Model.ServiceMode"
                         @bind-Value:after="OnValidate">
                <option value="Por Evento">Por Evento</option>
                <option value="Mensual">Póliza Mensual</option>
            </InputSelect>
        </div>

        @if (Model.ServiceMode == "Mensual")
        {
            <div class="col-md-6">
                <label class="form-label small fw-bold">
                    Tarifa Mensual (MXN) <span class="text-danger">*</span>
                </label>
                <InputNumber class="form-control form-control-sm"
                             @bind-Value="Model.MonthlyRate"
                             @bind-Value:after="OnValidate" />
                <small class="text-muted">Tarifa fija mensual para clientes con póliza</small>
            </div>

            <div class="col-md-6">
                <label class="form-label small fw-bold">
                    Horas Mensuales Incluidas <span class="text-danger">*</span>
                </label>
                <InputNumber class="form-control form-control-sm"
                             @bind-Value="Model.MonthlyHours"
                             @bind-Value:after="OnValidate" />
                <small class="text-muted">Horas de soporte incluidas en la póliza mensual</small>
            </div>
        }

        <div class="col-12">
            <div class="form-check form-switch">
                <InputCheckbox id="IsActive"
                               class="form-check-input"
                               @bind-Value="Model.IsActive" />
                <label class="form-check-label small fw-bold" for="IsActive">
                    Cliente Activo
                </label>
            </div>
            <small class="text-muted">Determina si el cliente puede recibir nuevos servicios</small>
        </div>
    </div>

</FormSection>

@code {
    [Parameter] public ClientDto Model { get; set; } = new();
    [Parameter] public Dictionary<string, string> ValidationErrors { get; set; } = new();
    [Parameter] public bool IsComplete { get; set; }
    [Parameter] public Action? OnValidate { get; set; }
}
