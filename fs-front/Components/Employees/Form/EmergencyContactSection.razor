@using fs_front.DTO

<div class="accordion-item">
    <h2 class="accordion-header" id="headingEmergency">
        <button class="accordion-button collapsed"
                type="button"
                data-bs-toggle="collapse"
                data-bs-target="#collapseEmergency"
                aria-expanded="false"
                aria-controls="collapseEmergency"
                @onclick="OnToggle">
            <i class="bi bi-telephone me-2"></i>
            <strong>Contacto de Emergencia</strong>
            <span class="badge bg-secondary ms-2">Opcional</span>
        </button>
    </h2>
    <div id="collapseEmergency"
         class="accordion-collapse collapse @(IsExpanded ? "show" : "")"
         aria-labelledby="headingEmergency">
        <div class="accordion-body">
            <div class="row g-3">
                <div class="col-md-6">
                    <label for="EmergencyContactName" class="form-label small fw-bold">Nombre</label>
                    <InputText id="EmergencyContactName"
                               class="form-control form-control-sm"
                               placeholder="María López"
                               @bind-Value="Employee.EmergencyContactName" />
                </div>

                <div class="col-md-6">
                    <label for="EmergencyContactPhone" class="form-label small fw-bold">Teléfono</label>
                    <InputText id="EmergencyContactPhone"
                               class="form-control form-control-sm"
                               placeholder="+52 123 456 7890"
                               @bind-Value="Employee.EmergencyContactPhone" />
                </div>
            </div>
        </div>
    </div>
</div>

@code {
    [Parameter] public EmployeeDto Employee { get; set; } = new();
    [Parameter] public bool IsExpanded { get; set; }
    [Parameter] public EventCallback OnToggle { get; set; }
}
